(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1121:function(e,a,t){"use strict";t.r(a);var l=t(915),n=t(914),r=t(142),c=t(143),i=t(145),o=t(144),s=t(234),u=t(146),m=t(4),h=t.n(m),d=t(958),E=t(917),_=t(918),p=t(919),g=t(922),j=t(920),k=t(990),f=t(991),x=t(924),b=t(929),P=t(930),C=t(925),T=t(928),v=t(921),y=t(923),S=t(235),w=t.n(S),O=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(i.a)(this,Object(o.a)(a).call(this,e))).cancelClick=function(){t.setState({txt_id:"",txt_hari:"",txt_pakan:"",txt_jumlah_telur:"",txt_tonase_telur:""})},t.handleChange=function(e){t.setState(Object(n.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),w.a.post(t.API_URL+"/recording_harian",{project_id:t.projectId,hari:t.state.txt_hari,pakan:t.state.txt_pakan,jumlah_telur:t.state.txt_jumlah_telur,tonase_telur:t.state.txt_tonase_telur}).then(function(e){200===e.status?(t.setState(function(a){var n=Object.assign({},a.detailProject);return n.project_recording_harians=[].concat(Object(l.a)(t.state.detailProject.project_recording_harians),[e.data.data]),{detailProject:n}}),t.cancelClick()):console.log("error")})},t.statusProject=function(e){return 0===e?h.a.createElement(d.a,{color:"secondary"},"Sedang Berjalan"):h.a.createElement(d.a,{color:"success"},"Sudah Closing")},t.API_URL="http://localhost:5000/project",t.projectId=t.props.match.params.projectId,t.state={detailProject:{id:"",kandang_id:"",periode:"",populasi_awal:"",tanggal_mulai:"",tanggal_closing:"",status:"",kandang:{id:"",code:"",name:"",alamat:""},project_recording_harians:[{tanggal:"",hari:"",pakan:"",jumlah_telur:"",tonase_telur:""}]},totalPakan:0,totalJumlah:0,totalTonase:0,txt_hari:"",txt_pakan:"",txt_jumlah_telur:"",txt_tonase_telur:""},t.handleChange=t.handleChange.bind(Object(s.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(s.a)(t)),t.cancelClick=t.cancelClick.bind(Object(s.a)(t)),t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;w.a.get(this.API_URL+"/"+this.projectId).then(function(a){e.setState({detailProject:a.data.data});var t=0,l=0,n=0;a.data.data.project_recording_harians.forEach(function(e){t+=e.pakan,l+=e.jumlah_telur,n+=e.tonase_telur}),e.setState({totalPakan:t,totalJumlah:l,totalTonase:n})})}},{key:"render",value:function(){return h.a.createElement("div",{className:"animated fadeIn"},h.a.createElement(E.a,null,h.a.createElement(_.a,{xs:"12",lg:"6"},h.a.createElement(p.a,null,h.a.createElement(g.a,null,h.a.createElement("i",{className:"fa fa-align-justify"}),"Data Project",h.a.createElement("div",{className:"card-header-actions"},this.statusProject(this.state.detailProject.status))),h.a.createElement(j.a,null,h.a.createElement(E.a,null,h.a.createElement(_.a,{xs:"6",md:"6"},h.a.createElement(k.a,null,h.a.createElement(f.a,null,this.state.detailProject.kandang.name," - Periode ",this.state.detailProject.periode),h.a.createElement(f.a,null,"Populasi Awal : ",this.state.detailProject.populasi_awal," ekor"),h.a.createElement(f.a,null,"Tgl Mulai : ",this.state.detailProject.tanggal_mulai),h.a.createElement(f.a,null,"Tgl Closing : ",this.state.detailProject.tanggal_closing))),h.a.createElement(_.a,{xs:"6",md:"6"},h.a.createElement(k.a,null,h.a.createElement(f.a,null,"Hari Produksi : ",this.state.detailProject.project_recording_harians.length," hari"),h.a.createElement(f.a,null,"Total Pakan : ",this.state.totalPakan," kg"),h.a.createElement(f.a,null,"Total Telur : ",this.state.totalJumlah," butir"),h.a.createElement(f.a,null,"Total Tonase Telur : ",this.state.totalTonase," kg"))))))),h.a.createElement(_.a,{xs:"12",lg:"6"},h.a.createElement(p.a,null,h.a.createElement(g.a,null,h.a.createElement("i",{className:"fa fa-align-justify"})," Form Data Harian"),h.a.createElement(x.a,{onSubmit:this.handleSubmit},h.a.createElement(j.a,null,h.a.createElement(b.a,{row:!0},h.a.createElement(_.a,{md:"2"},h.a.createElement(P.a,{htmlFor:"kategori-produk"},"Hari")),h.a.createElement(_.a,{xs:"4",md:"4"},h.a.createElement(C.a,{type:"number",name:"txt_hari",onChange:this.handleChange,value:this.state.txt_hari,required:!0,placeholder:"Hari"})),h.a.createElement(_.a,{md:"2"},h.a.createElement(P.a,{htmlFor:"kategori-produk"},"Jumlah Pakan")),h.a.createElement(_.a,{xs:"4",md:"4"},h.a.createElement(C.a,{type:"number",name:"txt_pakan",onChange:this.handleChange,value:this.state.txt_pakan,required:!0,placeholder:"Jumlah Pakan"}))),h.a.createElement(b.a,{row:!0},h.a.createElement(_.a,{md:"2"},h.a.createElement(P.a,{htmlFor:"kategori-produk"},"Jumlah Telur")),h.a.createElement(_.a,{xs:"4",md:"4"},h.a.createElement(C.a,{type:"number",name:"txt_jumlah_telur",onChange:this.handleChange,value:this.state.txt_jumlah_telur,required:!0,placeholder:"Jumlah Telur"})),h.a.createElement(_.a,{md:"2"},h.a.createElement(P.a,{htmlFor:"kategori-produk"},"Tonase Telur")),h.a.createElement(_.a,{xs:"4",md:"4"},h.a.createElement(C.a,{type:"number",name:"txt_tonase_telur",onChange:this.handleChange,value:this.state.txt_tonase_telur,required:!0,placeholder:"Tonase Telur"})))),h.a.createElement(T.a,null,h.a.createElement(v.a,{type:"submit",size:"sm",color:"primary"},h.a.createElement("i",{className:"fa fa-dot-circle-o"})," ","Simpan"),"\xa0",h.a.createElement(v.a,{size:"sm",color:"danger",onClick:this.cancelClick},h.a.createElement("i",{className:"fa fa-ban"})," Cancel"))))),h.a.createElement(_.a,{xs:"12",lg:"12"},h.a.createElement(p.a,null,h.a.createElement(g.a,null,h.a.createElement("i",{className:"fa fa-align-justify"})," Data Harian"),h.a.createElement(j.a,null,h.a.createElement(y.a,{responsive:!0},h.a.createElement("thead",null,h.a.createElement("tr",null,h.a.createElement("th",null,"Hari"),h.a.createElement("th",null,"Pakan"),h.a.createElement("th",null,"Jumlah Telur"),h.a.createElement("th",null,"Tonase Telur"))),h.a.createElement("tbody",null,this.state.detailProject.project_recording_harians.map(function(e){return h.a.createElement("tr",{key:e.id},h.a.createElement("td",null,e.hari),h.a.createElement("td",null,e.pakan),h.a.createElement("td",null,e.jumlah_telur),h.a.createElement("td",null,e.tonase_telur))}))))))))}}]),a}(m.Component);a.default=O}}]);
//# sourceMappingURL=24.77159c4a.chunk.js.map